{% ckan_extends %}

{% block basic_fields %}

{{ super() }}

{{ form.input('resource_subtitle', id='field-resource_subtitle', label=_('Subtítulo'), placeholder='Lorem ipsum', value=data.resource_subtitle, error=errors.resource_subtitle, classes=['control-full']) }}

{{ form.input('resource_chart', id='field-resource_chart', label=_('Gráfico'), placeholder='bar', value=data.resource_chart, error=errors.resource_chart, classes=['control-full']) }}

{{ form.input('resource_default_var', id='field-resource_default_var', label=_('Variable por defecto'), placeholder='columna_a', value=data.resource_default_var, error=errors.resource_default_var, classes=['control-full']) }}

{% call form.input('resource_filters', id='field-resource_filters', label=_('Variables para filtrar'), placeholder='ej:columna_a,columna_d', value=data.resource_filters, error=errors.resource_filters, classes=['control-full']) %}
<span class="info-block info-block-small">
  <i class="fa fa-info-circle"></i>
  {{ _('Utilice comas para separar los campos') }}
</span>
{% endcall %}

{% call form.input('resource_disaggregate', id='field-resource_disaggregate', label=_('Variables para desagregar'), placeholder='ej:columna_a,columna_d', value=data.resource_disaggregate, error=errors.resource_disaggregate, classes=['control-full']) %}
<span class="info-block info-block-small">
  <i class="fa fa-info-circle"></i>
  {{ _('Utilice comas para separar los campos') }}
</span>
{% endcall %}

{% call form.input('resource_viz', id='field-resource_viz', label=_('Variables a visualizar'), placeholder='ej:columna_a,columna_d', value=data.resource_viz, error=errors.resource_viz, classes=['control-full']) %}
<span class="info-block info-block-small">
  <i class="fa fa-info-circle"></i>
  {{ _('Utilice comas para separar los campos') }}
</span>
{% endcall %}

<div class="form-group">
  <label class="control-label" for="field-update_frequency">
    {{ _("Período de actualización") }}
  </label>
  <div class="controls">
    <select id="field-update_frequency" name="update_frequency" data-module="autocomplete">
      <option value="">{{ _('Seleccione un valor') }}</option>
      {% for update_frequency in h.update_frequencies()  %}
        <option value="{{ update_frequency }}" {% if update_frequency in data.get('update_frequency', []) %}selected="selected"{% endif %}>
          {{ update_frequency }}
        </option>
      {% endfor %}
    </select>
  </div>
</div>

<div class="form-group">
  <label class="control-label" for="field-date_format">
    {{ _("Formato de fecha") }}
  </label>
  <div class="controls">
    <select id="field-date_format" name="date_format" data-module="autocomplete">
      <option value="">{{ _('Seleccione un formato de fecha') }}</option>
      {% set readable_date_formats = h.readable_date_formats() %}
      {% for date_format in h.date_formats()  %}
        <option value="{{ date_format }}" {% if date_format in data.get('date_format', []) %}selected="selected"{% endif %}>{% if date_format in readable_date_formats %} {{ readable_date_formats[date_format ]}} {% else %} {{ date_format }} {% endif %}</option>
      {% endfor %}
    </select>
  </div>
</div>

{% endblock %}
